{% extends 'base.html.twig' %}

{% block title %}Espace administrateur - La boutique design{% endblock %}

{% block body %}
<header id="fh5co-header" class="fh5co-cover js-fullheight" role="banner" style="max-height:35vh; background-image: url('../../assets/images/main-bg-admin.jpg')" data-stellar-background-ratio="0.5">
  <div class="overlay"></div>
  <div class="container container-small">
    <div class="row">
      <div class="col-md-12 text-center display-tc">
        <h1>Espace administrateur</h1>
      </div>
    </div>
  </div>
</header>
<div class="container" style="margin-top: 1rem">
  <div class="text-center">
    <h2 style="color:white;">Gestion de vos catégories de produits</h2>
    {% for message in app.flashes('new_category') %}
      <div class="alert alert-success" role="alert">{{ message }}</div>
    {% endfor %}
    {% for message in app.flashes('modified_category') %}
      <div class="alert alert-success" role="alert">{{ message }}</div>
    {% endfor %}
    {% for message in app.flashes('delete_category') %}
      <div class="alert alert-success" role="alert">{{ message }}</div>
    {% endfor %}
  </div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Nom</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for category in categories %}
      <tr>
        <td>{{ category.id }}</td>
        <td>{{ category.name }}</td>
        <td>
          <a href="{{ path('admin_category_edit', {'id':category.id}) }}" class="btn-warning btn-lg" role="button" style="padding:6px 3px 3px 4px; font-size:20px; line-height: 1; margin: 0 1rem">
            <i class="icon-pencil"></i>
          </a>
          <a href="{{ path('admin_category_delete', {'id':category.id}) }}" class="btn-danger btn-lg" role="button" style="padding:5px; font-size:20px; line-height: 1; margin: 0 1rem" onclick="return confirm('La catégorie {{ category.name }} va être définitivement supprimée, ce choix doit être confirmé ?')">
            <i class="icon-trash"></i>
          </a>
        </td>
      </tr>
      {% else %}
      <tr>
          <td colspan="3">Il n'y a aucune catégorie à afficher</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <div class="text-center" style="display: flex; justify-content: space-between;">
    <a href="{{ path('admin_category_new') }}" class="btn-success btn-lg" role="button">
      <i class="icon-plus"></i>&nbsp;AJOUTER
    </a>
    <a href="{{ path('admin_home') }}" class="btn-success btn-lg" role="button">
      <i class="icon-back"></i>&nbsp;RETOUR ADMIN
    </a>
  </div>
</div>
{% endblock %}
